<!doctype html>
<html>
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Vendor — Validate Gram</title>
  <link rel="stylesheet" href="./vendor.css" />
</head>
<body>
    <script src="/vendor/validate.js?v=20251222-1"></script>
    <div id="soldacLinks" style="display:none; gap:10px;">
        <a class="btn" href="/producer/">Producer UI</a>
        <a class="btn" href="/vendor/">Manage</a>
        <a class="btn" href="/vendor/validate.html">Validate</a>
    </div>
    <div class="wrap">
        <header class="top">
            <div class="row" style="margin-top:10px;">
                <span class="muted">Language</span>
                <button id="langEN" class="btn small" type="button">EN</button>
                <button id="langPT" class="btn small" type="button">PT</button>
            </div>
            <div>
                <h1>Validate Gram</h1>
                <p class="muted">Tap the physical Gram to this phone to validate perks.</p>
            </div>
            <a class="btn" href="/vendor">Manage</a>
        </header>
        <div class="card">
            <div class="form">
                <div class="grid">
                    <div class="auth">
                        <label class="label">Business ID</label>
                        <div class="row">
                            <input id="businessId" class="input" placeholder="e.g. Bar11" />
                        </div>

                        <label class="label" style="margin-top:10px;">Vendor Key</label>
                        <div class="row">
                            <input id="vendorSecret" class="input" placeholder="••••••••" />
                            <button id="saveAuth" type="button" class="btn">Save</button>
                        </div>

                        <div class="row">
                            <input id="gramId" class="input" placeholder="Optional: filter by gram_id (e.g. G002)" />
                            <button id="loadPerks" class="btn primary">Load perks</button>
                        </div>
                        <p id="status" class="status muted"></p>
                    </div>
                </div>

                <div class="row">
                    <input id="nfcTagId" class="input" placeholder="nfcTagId (auto from URL/tap)" />
                    <button id="load" class="btn primary">Validate</button>
                </div>
            </div>
        </div>
        
        <div id="result"></div>

        <script src="./validate.js"></script>
    </div>
    <style>
        .counter-instruction {
            padding: 10px 12px;
            border: 1px dashed #000;
            border-radius: 10px;
            background: #fafafa;
            font-size: 14px;
        }

            .counter-instruction strong {
                display: block;
                margin-bottom: 4px;
            }

        .gram-image {
            width: 72px;
            height: 72px;
            object-fit: cover;
            border-radius: 12px;
            border: 2px solid #000;
        }
</style>
</body>
</html>
